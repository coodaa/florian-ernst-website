(function(u,a){typeof exports=="object"&&typeof module!="undefined"?module.exports=a():typeof define=="function"&&define.amd?define(a):(u=typeof globalThis!="undefined"?globalThis:u||self,u["stimulus-scroll-to"]=a())})(this,function(){"use strict";function u(e){return e.replace(/(?:[_-])([a-z0-9])/g,(t,r)=>r.toUpperCase())}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e){return e.replace(/([A-Z])/g,(t,r)=>`-${r.toLowerCase()}`)}function d(e,t){const r=h(e);return Array.from(r.reduce((n,s)=>(v(s,t).forEach(o=>n.add(o)),n),new Set))}function O(e,t){return h(e).reduce((n,s)=>(n.push(...j(s,t)),n),[])}function h(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function v(e,t){const r=e[t];return Array.isArray(r)?r:[]}function j(e,t){const r=e[t];return r?Object.keys(r).map(n=>[n,r[n]]):[]}(()=>{function e(r){function n(){return Reflect.construct(r,arguments,new.target)}return n.prototype=Object.create(r.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,r),n}function t(){const n=e(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return t(),e}catch{return n=>class extends n{}}})();function A(e){return d(e,"classes").reduce((r,n)=>Object.assign(r,T(n)),{})}function T(e){return{[`${e}Class`]:{get(){const{classes:t}=this;if(t.has(e))return t.get(e);{const r=t.getAttributeName(e);throw new Error(`Missing attribute "${r}"`)}}},[`${e}Classes`]:{get(){return this.classes.getAll(e)}},[`has${a(e)}Class`]:{get(){return this.classes.has(e)}}}}function $(e){return d(e,"targets").reduce((r,n)=>Object.assign(r,V(n)),{})}function V(e){return{[`${e}Target`]:{get(){const t=this.targets.find(e);if(t)return t;throw new Error(`Missing target element "${e}" for "${this.identifier}" controller`)}},[`${e}Targets`]:{get(){return this.targets.findAll(e)}},[`has${a(e)}Target`]:{get(){return this.targets.has(e)}}}}function C(e){const t=O(e,"values"),r={valueDescriptorMap:{get(){return t.reduce((n,s)=>{const o=p(s),i=this.data.getAttributeNameForKey(o.key);return Object.assign(n,{[i]:o})},{})}}};return t.reduce((n,s)=>Object.assign(n,E(s)),r)}function E(e){const t=p(e),{key:r,name:n,reader:s,writer:o}=t;return{[n]:{get(){const i=this.data.get(r);return i!==null?s(i):t.defaultValue},set(i){i===void 0?this.data.delete(r):this.data.set(r,o(i))}},[`has${a(n)}`]:{get(){return this.data.has(r)||t.hasCustomDefaultValue}}}}function p([e,t]){return F(e,t)}function l(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function f(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(e))return"array";if(Object.prototype.toString.call(e)==="[object Object]")return"object"}function x(e){const t=l(e.type);if(t){const r=f(e.default);if(t!==r)throw new Error(`Type "${t}" must match the type of the default value. Given default value: "${e.default}" as "${r}"`);return t}}function P(e){const t=x(e),r=f(e),n=l(e),s=t||r||n;if(s)return s;throw new Error(`Unknown value type "${e}"`)}function S(e){const t=l(e);if(t)return D[t];const r=e.default;return r!==void 0?r:e}function F(e,t){const r=`${w(e)}-value`,n=P(t);return{type:n,key:r,name:u(r),get defaultValue(){return S(t)},get hasCustomDefaultValue(){return f(t)!==void 0},reader:N[n],writer:g[n]||g.default}}const D={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},N={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError("Expected array");return t},boolean(e){return!(e=="0"||e=="false")},number(e){return Number(e)},object(e){const t=JSON.parse(e);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError("Expected object");return t},string(e){return e}},g={default:B,array:b,object:b};function b(e){return JSON.stringify(e)}function B(e){return`${e}`}class c{constructor(t){this.context=t}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:r=this.element,detail:n={},prefix:s=this.identifier,bubbles:o=!0,cancelable:i=!0}={}){const z=s?`${s}:${t}`:t,m=new CustomEvent(z,{detail:n,bubbles:o,cancelable:i});return r.dispatchEvent(m),m}}c.blessings=[A,$,C],c.targets=[],c.values={};class y extends c{initialize(){this.scroll=this.scroll.bind(this)}connect(){this.element.addEventListener("click",this.scroll)}disconnect(){this.element.removeEventListener("click",this.scroll)}scroll(t){t.preventDefault();const r=this.element.hash.replace(/^#/,""),n=document.getElementById(r);if(!n){console.warn(`[stimulus-scroll-to] The element with the id: "${r}" does not exist on the page.`);return}const o=n.getBoundingClientRect().top+window.pageYOffset-this.offset;window.scrollTo({top:o,behavior:this.behavior})}get offset(){return this.hasOffsetValue?this.offsetValue:this.defaultOptions.offset!==void 0?this.defaultOptions.offset:10}get behavior(){return this.behaviorValue||this.defaultOptions.behavior||"smooth"}get defaultOptions(){return{}}}return y.values={offset:Number,behavior:String},y});
